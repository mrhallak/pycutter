# Setup Instructions
## Directory Structure

### File definitions

- **README.md:** A markdown file that contains documentation about the project, providing information on how to use it, its purpose, and any other relevant details.

- **.env:** Environment configuration file, commonly used for storing sensitive or environment-specific variables.

- **config:** Directory containing configuration files.
    - `logging.dev.ini`: Configuration file for logging in development.
    - `logging.prod.ini`: Configuration file for logging in production.

- **data:**
  - Directory for storing data.

- **{{ cookiecutter.project_slug }}:** A Python package or module named "{{ cookiecutter.project_slug }}."
    - `__init__.py`: An empty file indicating that the directory should be treated as a Python package.

- **logs:** Directory for storing log files.

- **poetry.lock:** A file generated by the Poetry package manager, locking the dependencies and versions for the project.

- **pyproject.toml:** The Poetry project configuration file, specifying project metadata, dependencies, and other settings.

- **tests:** Directory containing test files.
    - `__init__.py`: An empty file indicating that the directory should be treated as a Python package.
    - `conftest.py`: Configuration for testing.

## Requirements
- [Python](https://www.python.org/)
- [Poetry](https://python-poetry.org/)
- [Docker](https://docker.com) (Optional)

## Python Version & Dependencies
### Python

- **Python** (`^{{ cookiecutter.python_version }}`): The programming language version required for this project.

#### Why Poetry?
Poetry is a Python dependency management and packaging tool designed to simplify and enhance the development workflow. Key features include a simplified and declarative way to manage dependencies through the pyproject.toml file, consistent dependency locking with poetry.lock, and a modern resolver for resolving and installing dependencies. Poetry makes it easy to package, publish of Python projects and isolate projects with dedicated virtual environments.

### Other development Dependencies

Development dependencies are additional packages required during the development process but not in the production environment.

- **Pytest** (`^{{ cookiecutter.pytest_version }}): A testing framework for Python.

#### Why Pytest?
Pytest is a robust testing framework for Python known for its simplicity, scalability, and extensive functionality. It facilitates efficient test writing, supports fixtures for reusable test components, and provides various plugins for additional features.

## Installation

To run this project, ensure you have [Poetry](https://python-poetry.org/) installed on your system.

1. **Navigate to the project directory:**
```bash
cd {{ cookiecutter.project_name }}
```
2. **Install Poetry:**

```bash
pip install poetry
```
3. **Install dependencies using Poetry:**

```bash
poetry install
```
This command reads the dependencies from pyproject.toml and creates a virtual environment for your project with these dependencies installed.

## Running with Docker
Docker simplifies Python development by encapsulating applications and dependencies in portable containers, ensuring consistent and reproducible environments. This streamlines deployment, eliminates compatibility issues, and enhances scalability, offering a more efficient alternative to managing dependencies directly within the project directory.

### Instructions
A Dockerfile is used for containerizing a Python application using Poetry as the dependency management tool. Here's a summary of what's in the file:

1. **Base Image Selection:** Uses the official Python runtime image for version 3.11 as the base image.
2. **Working Directory Setup:**
  - Creates a directory named /app within the container.
  - Sets this directory as the working directory for subsequent commands.
3. **Poetry Configuration Files:** Copies the pyproject.toml and poetry.lock files into the /app directory.
4. **Poetry Installation:** Installs Poetry using the pip package manager.
5. **Dependency Installation:**
  - Runs the poetry install command to install project dependencies.
  - The `--no-root` flag prevents installing the project itself as a dependency.
  - The `--no-directory` flag avoids creating a virtual environment directory (Docker is already kind of a virtual environment).
6. **Application Code Copy:** Copies the remaining application code into the /app directory.
7. **Environment Variables:** Sets two environment variables
  - PYTHONUNBUFFERED: Ensures that Python output is sent directly to the terminal without buffering.
  - PYTHONPATH: Sets the Python module search path to include the /app directory.
8. **Container Startup Commands:** Here I'm overriding the default entrypoint and command of the image. This allows us to have flexibility with the commands we are running.

You have to first build the image:
```bash
docker build -t <image tag of choice> .
```

To run the code (example):
```bash
docker run -it <image tag of choice> poetry run python {{ cookiecutter.project_slug }}/main.py
```

To run the tests:

```bash
docker run -it <image tag of choice> poetry run pytest
```
